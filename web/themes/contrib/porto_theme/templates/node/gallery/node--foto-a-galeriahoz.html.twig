{#
/**
 * @file
 * Porto theme implementation for foto_a_galeriahoz nodes in full view mode.
 *
 * Available variables:
 * - node: The node entity.
 * - label: The title of the node.
 * - content: All node fields rendered.
 * - url: Direct URL of the current node.
 * - attributes: HTML attributes for the wrapper.
 */
#}

<article{{ attributes.addClass('photoswipe-gallery') }}>
  {# Main gallery images - all in 2-column grid #}
  {% if content.field_telikert_kep %}
    <div class="gallery-images-wrapper">
      <div class="gallery-grid">
        {% for key, item in content.field_telikert_kep %}
          {# Only render numeric keys (actual field items), skip metadata keys starting with # #}
          {% if key matches '/^\\d+$/' %}
            <div class="gallery-grid-item">
              {{ item }}
            </div>
          {% endif %}
        {% endfor %}
      </div>
    </div>
  {% endif %}

  {# Body content #}
  {% if content.body %}
    {{ content.body }}
  {% endif %}

  {# Taxonomy fields wrapper with proper classes #}
  {# Check node entity fields directly to avoid showing empty labels #}
  <div class="gallery-taxonomy-fields">
    {# Típus (field_gallery_tag) #}
    {% if node.field_gallery_tag is not empty %}
      <div class="gallery-field gallery-field--tipus">
        <span class="gallery-field__label">Típus</span>
        <span class="gallery-field__value">{{- content.field_gallery_tag -}}</span>
      </div>
    {% endif %}

    {# Stílus #}
    {% if node.field_stilus is not empty %}
      <div class="gallery-field gallery-field--stilus">
        <span class="gallery-field__label">Stílus</span>
        <span class="gallery-field__value">{{- content.field_stilus -}}</span>
      </div>
    {% endif %}

    {# Szerkezet anyaga #}
    {% if node.field_szerkezet_anyaga is not empty %}
      <div class="gallery-field gallery-field--szerkezet">
        <span class="gallery-field__label">Szerkezet anyaga</span>
        <span class="gallery-field__value">{{- content.field_szerkezet_anyaga -}}</span>
      </div>
    {% endif %}

    {# Tetőfedés anyaga #}
    {% if node.field_tetofedes_anyaga is not empty %}
      <div class="gallery-field gallery-field--tetofedes">
        <span class="gallery-field__label">Tetőfedés anyaga</span>
        <span class="gallery-field__value">{{- content.field_tetofedes_anyaga -}}</span>
      </div>
    {% endif %}

    {# Oldalzárás anyaga #}
    {% if node.field_oldalzaras_anyaga is not empty %}
      <div class="gallery-field gallery-field--oldalzaras">
        <span class="gallery-field__label">Oldalzárás anyaga</span>
        <span class="gallery-field__value">{{- content.field_oldalzaras_anyaga -}}</span>
      </div>
    {% endif %}

    {# Termék típus #}
    {% if node.field_termek_tipus is not empty %}
      <div class="gallery-field gallery-field--termek">
        <span class="gallery-field__label">Termék típus</span>
        <span class="gallery-field__value">{{- content.field_termek_tipus -}}</span>
      </div>
    {% endif %}

    {# Címkék #}
    {% if node.field_cimkek is not empty %}
      <div class="gallery-field gallery-field--cimkek">
        <span class="gallery-field__label">Címkék</span>
        <span class="gallery-field__value">{{- content.field_cimkek -}}</span>
      </div>
    {% endif %}
  </div>

  {# Back link - hardcoded to "Vissza a kocsibeálló munkáinkhoz" #}
  <div class="gallery-back-link">
    <a href="/kepgaleria">Vissza a kocsibeálló munkáinkhoz</a>
  </div>

  {# Comments #}
  {% if content.comment_node_foto_a_galeriahoz %}
    {{ content.comment_node_foto_a_galeriahoz }}
  {% endif %}
</article>
